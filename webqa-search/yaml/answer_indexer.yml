!AnswerIndexer
with:
  index_filename: 'answer_index.gzip'
  metric: 'cosine'
  title_weight: 0.8
  answer_weight: 0.2
metas:
  name: 'AnswerIndexer'
  workspace: $TMP_WORKSPACE
  py_modules:
    - custom_indexer.py
    - custom_driver.py
requests:
  on:
    IndexRequest:
      - !MetaDocIndexDriver
        with:
          method: add
      - !ChunkPruneDriver {}

    SearchRequest:
      - !AnswerSearchDriver
        with:
          method: query