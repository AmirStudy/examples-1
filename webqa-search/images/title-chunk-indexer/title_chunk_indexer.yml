!NumpyIndexer
with:
  index_filename: 'title_chunk_index.gzip'
  metric: 'cosine'
metas:
  name: 'TitleChunkIndexer'
  workspace: $TMP_WORKSPACE
requests:
  on:
    IndexRequest:
      - !ChunkIndexDriver
        with:
          method: add

      - !ChunkPruneDriver {}

    SearchRequest:
      - !ChunkSearchDriver
        with:
          method: query

      - !ChunkPruneDriver {}

    ControlRequest:
      - !ControlReqDriver {}